(this.webpackJsonpReactFLORA=this.webpackJsonpReactFLORA||[]).push([[0],{54:function(e,t,a){e.exports=a(69)},59:function(e,t,a){},60:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),l=a(48),c=a.n(l),i=a(28),o=a(16),m=a(13),s=Object(n.createContext)(),u=function(e){var t=Object(n.useState)((function(){var e=localStorage.getItem("cart"),t=JSON.parse(e);return t&&0!=t.length?t:{item:[],total:0,qty:0}})),a=Object(m.a)(t,2),l=a[0],c=a[1];return r.a.createElement(s.Provider,{value:{cart:l,setCart:function(e){var t=Object(o.a)(l.item),a=t.findIndex((function(t){return t.title===e.title}));if(-1!=a){var n=0;t[a].count=t[a].count+1,t.map((function(e){n+=e.count*parseFloat(e.price)})),c({item:t,total:n,qty:l.qty+1}),localStorage.setItem("cart",JSON.stringify({item:t,total:n,qty:l.qty+1}))}else{var r=Object(i.a)({},e);r.count=1,c({item:[].concat(Object(o.a)(l.item),[r]),total:parseFloat(l.total)+parseFloat(e.price),qty:l.qty+1}),localStorage.setItem("cart",JSON.stringify({item:[].concat(Object(o.a)(l.item),[r]),total:parseFloat(l.total)+parseFloat(e.price),qty:l.qty+1}))}},setCartPlus:function(e){var t=Object(o.a)(l.item),a=t.findIndex((function(t){return t.title===e.title}));if(-1!=a){var n=0;t[a].count=t[a].count+1,t.map((function(e){n+=e.count*parseFloat(e.price)})),c({item:t,total:n,qty:l.qty+1}),localStorage.setItem("cart",JSON.stringify({item:t,total:n,qty:l.qty+1}))}},setCartMinus:function(e){var t=Object(o.a)(l.item),a=t.findIndex((function(t){return t.title===e.title}));if(-1!=a){var n=0;if(t[a].count=t[a].count-1,t.map((function(e){n+=e.count*parseFloat(e.price)})),0==t[a].count){var r=t.filter((function(t,a){return t.title!=e.title}));c({item:r,total:n,qty:l.qty-1}),localStorage.setItem("cart",JSON.stringify({item:r,total:n,qty:l.qty-1}))}else c({item:t,total:n,qty:l.qty-1}),localStorage.setItem("cart",JSON.stringify({item:t,total:n,qty:l.qty-1}))}},removeCart:function(e,t){var a=Object(o.a)(l.item).filter((function(t,a){return t.title!=e})),n=0;a.map((function(e){n+=e.count*parseFloat(e.price)})),c({item:a,total:n,qty:l.qty-t}),localStorage.setItem("cart",JSON.stringify({item:a,total:n,qty:l.qty-t}))},clearCart:function(){c({item:[],total:0,qty:0}),localStorage.setItem("cart",JSON.stringify({item:[],total:0,qty:0}))}}},e.children)},p=(a(59),a(31)),d=a(53),v=a(30),E=a(49),f=a(44),g=[{title:"Products",path:"/products",icon:r.a.createElement(p.b,null),cName:"nav-text",manager:!0,supervisor:!1,admin:!0},{title:"Messages",path:"/messages",icon:r.a.createElement(p.c,null),cName:"nav-text",manager:!0,supervisor:!0,admin:!0},{title:"Past Orders",path:"/reports",icon:r.a.createElement(f.a,null),cName:"nav-text",manager:!0,supervisor:!0,admin:!0},{title:"MSDS",path:"/MSDS",icon:r.a.createElement(E.a,null),cName:"nav-text",manager:!1,supervisor:!1,admin:!0},{title:"Add Item",path:"/addItem",icon:r.a.createElement(p.d,null),cName:"nav-text",manager:!1,supervisor:!1,admin:!0},{title:"Support",path:"/support",icon:r.a.createElement(f.b,null),cName:"nav-text",manager:!0,supervisor:!0,admin:!0}],b=(a(60),a(0)),h=a(1),N=a.n(h),O=a(3),C=a(2),y=a(50),k=(a(62),a(70),y.a.initializeApp({apiKey:"AIzaSyA18lefkC7Nv6nL0kN1cZBA5WLB4IzM84U",authDomain:"flora-react-bc0ab.firebaseapp.com",projectId:"flora-react-bc0ab",storageBucket:"flora-react-bc0ab.appspot.com",messagingSenderId:"148233572176",appId:"1:148233572176:web:4e4582c79442754bae6655",measurementId:"G-B5BGTJ8YV4"}).firestore()),S=k.collection("products"),P=k.collection("orders"),j=k.collection("miscData").doc("orderCount"),I=new function e(){var t=this;Object(C.a)(this,e),this.getProducts=function(){return new Promise((function(e,t){S.onSnapshot((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e(a)}))}))},this.addProduct=function(e){S.add({itemName:e.itemName,itemDesc:e.itemDescription,itemLink:e.itemLink,itemPic:e.itemPicture,itemPrice:e.itemPrice,itemGLCode:e.itemGLCode,itemVendor:e.itemVendor})},this.getLastOrderNumber=function(){return new Promise((function(e,t){j.onSnapshot((function(t){var a=t.data().count;a,e(a)}))}))},this.updateOrderCount=function(e){j.update({count:e})},this.getActiveOrders=function(){return new Promise((function(e,t){P.where("orderComplete","==",!1).orderBy("ordernumber","desc").onSnapshot((function(t){var a=[];t.forEach((function(e){var t=e.data();t.firestoreID=e.id,a.push(t)})),e(a)}))}))},this.placeOrder=function(e){P.add({ordernumber:e.orderNumber,cartItems:e.item,cartPrice:e.total,regionalApproved:!1,regionalDenied:!1,vpApproved:!1,vpDenied:!1,clerkApproved:!1,clerkDenied:!1,regionalNotes:null,vpNotes:null,clerkNotes:null,poNumber:null,orderComplete:!1}),t.updateOrderCount(e.orderNumber)},this.editOrder=function(e){P.doc(e.orderID).update({regionalApproved:!1,regionalDenied:!1,vpApproved:!1,vpDenied:!1,clerkApproved:!1,clerkDenied:!1,regionalNotes:null,vpNotes:null,clerkNotes:null,poNumber:null,orderComplete:!1})},this.closeOrder=function(e){P.doc(e).update({orderComplete:!0})}};function q(e){var t=Object(n.useContext)(s),a=t.setCartPlus,l=t.setCartMinus;return r.a.createElement("div",{className:"checkoutCard"},r.a.createElement("img",{src:e.img,className:"checkoutPicture"}),r.a.createElement("div",{className:"checkoutTitle"},e.title),r.a.createElement("div",{className:"checkoutItemCount"},r.a.createElement("div",{class:"orderCount"},r.a.createElement("div",{class:"minMaxButton left",onClick:function(t){return l(e)}},"-"),r.a.createElement("input",{type:"number",value:e.amount,min:"1",class:"orderinput"}),r.a.createElement("div",{class:"minMaxButton right",onClick:function(t){return a(e)}},"+"))),r.a.createElement("p",{className:"checkout__card__description"},e.description),r.a.createElement("div",{className:"checkoutPrice"},r.a.createElement("div",{className:"checkoutPriceData"},"$",e.price," each  ")))}var A=function(){var e=Object(n.useContext)(s),t=e.cart,a=e.clearCart,l=Object(n.useState)({}),c=Object(m.a)(l,2),i=(c[0],c[1],Object(n.useState)([])),o=Object(m.a)(i,2),u=(o[0],o[1]);return Object(n.useEffect)((function(){Object(O.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.getLastOrderNumber().then((function(e){u(e),t.orderNumber=e+1}));case 1:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement("div",{className:"checkout"},r.a.createElement("br",null),r.a.createElement("div",{className:"checkoutWrapper"},r.a.createElement("div",{className:"checkoutCardWrapper"},t.item.map((function(e){console.log(e)})),t.item.map((function(e){return r.a.createElement(q,{img:e.img,title:e.title,price:e.price,amount:e.count})}))),r.a.createElement("br",null),r.a.createElement("div",{className:"checkoutFooter right"},r.a.createElement("h2",null,"total order amount: $",t&&t.total.toFixed(2)),r.a.createElement("div",{onClick:function(e){return I.placeOrder(t),void a()}},"Confirm Order request"))))};var D=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useContext)(s),i=c.cart,o=c.removeCart,u=function(){return l(!a)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.b.Provider,{value:{color:"#fff"}},r.a.createElement("div",{className:"navbar-wrapper"},r.a.createElement("div",{className:"navbar"},r.a.createElement(v.b,{to:"#",className:"menu-bars"},r.a.createElement(p.a,{onClick:u}))),r.a.createElement("nav",{className:a?"nav-menu active":"nav-menu"},r.a.createElement("ul",{className:"nav-menu-items",onClick:u},r.a.createElement("li",{className:"navbar-toggle"},r.a.createElement(v.b,{to:"#",className:"menu-bars"},r.a.createElement(d.a,null))),g.map((function(e,t){return r.a.createElement("li",{key:t,className:e.cName},r.a.createElement(v.b,{to:e.path},e.icon,r.a.createElement("span",null,e.title)))})))),r.a.createElement("div",{className:"navbar"},r.a.createElement(v.b,{to:"/checkout",className:"menu-bars shopping"},r.a.createElement(p.e,null),r.a.createElement("span",{className:"menu-item-count"},i&&i.qty),r.a.createElement("div",{className:"shopping-item"},i&&0==i.item.length&&r.a.createElement("div",{className:"dropdown-cart-header"},r.a.createElement("span",null,"No Item on Cart")),r.a.createElement("div",{className:"shopping-list"},i&&0!=i.item.length&&i.item.map((function(e){return r.a.createElement("div",{className:"shopping-list-item"},r.a.createElement("div",null,r.a.createElement("img",{src:e.img,alt:e.title})),r.a.createElement("div",null,r.a.createElement("h4",null,e.title),r.a.createElement("p",null,r.a.createElement("div",{className:"remove",onClick:function(t){return o(e.title,e.count)}},"Remove"),r.a.createElement("div",null,e.count," x ",e.price," = ",(e.count*parseFloat(e.price)).toFixed(2)))))}))),r.a.createElement("div",{className:"bottom"},r.a.createElement("div",{className:"total"},r.a.createElement("span",null,"Total: "),r.a.createElement("span",{className:"total-amount"},i&&i.total.toFixed(2))),r.a.createElement(v.b,{to:"/checkout",className:"btn animate",disabled:"disabled"},"Checkout"))))))))},x=a(17);var w=function(){return r.a.createElement("div",{className:"home"},r.a.createElement("h1",null,"Home"),r.a.createElement("h3",null,"Todo List:"),r.a.createElement("li",null,"Sort Products by Searchbar"),r.a.createElement("li",null,"Checkout seperates items by source(hdsupply/sherman williams/best buy)"),r.a.createElement("li",null,"Finish bug reports"),r.a.createElement("li",null,"Add accounts/heirarchy"),r.a.createElement("li",null,"Add Filestorage for quotes POR requests"),r.a.createElement("li",null,"Add form for Quotes"),r.a.createElement("h2",null,"known bugs/issues"),r.a.createElement("li",null,"pending orders needs to be imported into state so closed out orders immediately update in app"),r.a.createElement("h1",null,"For Reccomendations please email: gkgleason320@gmail.com"))};var L=function(){return r.a.createElement("div",{className:"reports"},r.a.createElement("div",{className:"reportsWrapper"},r.a.createElement("div",{className:"reportsBox"},r.a.createElement("div",{className:"orderNumber"},"Order #"),r.a.createElement("div",{className:"orderPictures"}),r.a.createElement("div",{className:"orderDate"}),r.a.createElement("div",{className:"approvals"},r.a.createElement("div",{className:"regApproval"}),r.a.createElement("div",{className:"clerkApproval"}),r.a.createElement("div",{className:"vpApproval"})))))};function F(e){var t=Object(n.useContext)(s).setCart;return r.a.createElement("div",{className:"card"},r.a.createElement("img",{src:e.img,className:"card__img"}),r.a.createElement("div",{className:"card__body"},r.a.createElement("h2",{className:"card__title"},e.title),r.a.createElement("p",{className:"card__description"},e.description),r.a.createElement("h3",{className:"card__price"},e.price),r.a.createElement("button",{className:"card__btn",onClick:function(a){return t(e)}},"Add to Cart")))}var M=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),i=Object(m.a)(c,2),o=i[0],s=i[1];return Object(n.useEffect)((function(){Object(O.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.getProducts().then((function(e){l(e)}));case 1:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"wrapper seachbar_wrapper"},r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Search...",value:o,onChange:function(e){return s(e.target.value)}}),r.a.createElement("span",{onClick:function(e){return s("")}},"X"))),r.a.createElement("div",{className:"wrapper"},a.filter((function(e){return""==o||e.itemName.toLowerCase().includes(o.toLowerCase())?e:void 0})).map((function(e){var t=e.itemName,a=e.itemPrice,n=e.itemPic;return r.a.createElement(F,{img:n,title:t,price:a})}))))};var _=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),i=Object(m.a)(c,2),o=i[0],s=i[1];return Object(n.useEffect)((function(){Object(O.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.getActiveOrders().then((function(e){l(e),e.length>0&&s(!0),console.log(e)}));case 1:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement("div",{className:"messages"},r.a.createElement("br",null),r.a.createElement("h1",null,o?"Your Pending Orders":"No Pending Orders"),r.a.createElement("div",{className:"ordersList"},a.map((function(e){var t=e.firestoreID,a=e.ordernumber,n=e.cartItems,l=e.regionalApproved,c=e.regionalDenied,i=e.regionalNotes,o=e.vpApproved,m=e.vpDenied,s=e.vpNotes,u=e.clerkApproved,p=e.clerkDenied,d=e.clerkNotes;return r.a.createElement("div",{className:"orders"},r.a.createElement("div",{className:"messagesOrderNumber"},"order #: ",a," / ",t),c?r.a.createElement("div",{className:"messagesCloseOrder",onClick:function(e){return I.closeOrder(t)}},"X"):null,m?r.a.createElement("div",{className:"messagesCloseOrder",onClick:function(e){return I.closeOrder(t)}},"X"):null,p?r.a.createElement("div",{className:"messagesCloseOrder",onClick:function(e){return I.closeOrder(t)}},"X"):null,r.a.createElement("div",{className:"messagesImagesDiv"},n.slice(0,4).map((function(e){var t=e.img;return r.a.createElement("img",{src:t,className:"messagesImage"})}))),r.a.createElement("div",{className:"approvalWrapper"},l?r.a.createElement("div",{className:"regional approved"},"Regional Approved"):c?r.a.createElement("div",{className:"regional denied"},"Regional Denied"):r.a.createElement("div",{className:"regional waitingApproval"},"Waiting Regional Approval"),o?r.a.createElement("div",{className:"vp approved"},"VP Approved"):m?r.a.createElement("div",{className:"vp denied"},"VP Denied"):r.a.createElement("div",{className:"vp waitingApproval"},"Waiting VP Approval"),u?r.a.createElement("div",{className:"clerk approved"},"Clerk Approved"):p?r.a.createElement("div",{className:"clerk denied"},"Clerk Denied"):r.a.createElement("div",{className:"clerk waitingApproval"},"Waiting Clerk Approval")),r.a.createElement("div",{className:"denialReason"},c?"Regional Denied because: ".concat(i):null,m?"VP Denied because: ".concat(s):null,p?"Clerk Denied because: ".concat(d):null))}))))},R=a(6);var W=function(){var e=n.useState({}),t=Object(m.a)(e,2),a=t[0],r=t[1],l=function(e){var t=e.target.name,a=e.target.value;r((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(R.a)({},t,a))}))};return n.createElement("div",{className:"AddItem"},n.createElement("h1",null,"Form To add Item to Database"),n.createElement("form",{onSubmit:function(e){e.preventDefault(),I.addProduct(a)}},n.createElement("label",null,"Item Name:",n.createElement("input",{type:"text",name:"itemName",required:!0,value:a.itemName||"",onChange:l})),n.createElement("br",null),n.createElement("label",null,"Item Link:",n.createElement("input",{type:"text",name:"itemLink",required:!0,value:a.itemLink||"",onChange:l})),n.createElement("br",null),n.createElement("label",null,"Item Picture:",n.createElement("input",{type:"text",name:"itemPicture",required:!0,value:a.itemPicture||"",onChange:l})),n.createElement("br",null),n.createElement("label",null,"Item Description:",n.createElement("input",{type:"text",name:"itemDescription",required:!0,value:a.itemDescription||"",onChange:l})),n.createElement("br",null),n.createElement("label",null,"Item Price:",n.createElement("input",{type:"number",name:"itemPrice",required:!0,value:a.itemPrice||"",onChange:l})),n.createElement("br",null),n.createElement("label",null,"Item GL Code:",n.createElement("input",{type:"number",name:"itemGLCode",required:!0,value:a.itemGLCode||"",onChange:l})),n.createElement("br",null),n.createElement("label",null,"Item Vendor:",n.createElement("input",{type:"text",name:"itemVendor",required:!0,value:a.itemVendor||"",onChange:l})),n.createElement("br",null),n.createElement("input",{type:"submit"})),n.createElement("h3",null,"Edit Item:"),n.createElement("h3",null,"Delete Item:"))};var B=function(){return r.a.createElement("div",{className:"bugReport"},r.a.createElement("h1",null,"What type of bug are you having"),r.a.createElement("select",null,r.a.createElement("option",null,"Please Make a Selection..."),r.a.createElement("option",null,"App Not Working as Expected"),r.a.createElement("option",null,"App Crashing"),r.a.createElement("option",null,"Other")),r.a.createElement("h3",null,"Please describe the issue you are having"),r.a.createElement("h2",null,"submit button here"))};var J=function(){var e=n.useState({}),t=Object(m.a)(e,2),a=t[0],r=t[1],l=function(e){var t=e.target.name,a=e.target.value;r((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(R.a)({},t,a))}))};return n.createElement("div",{className:"missingItems"},n.createElement("form",{onSubmit:function(e){e.preventDefault()}},n.createElement("h2",null,"What type of item is missing"),n.createElement("select",null,n.createElement("option",null,"Please make a selection"),n.createElement("option",null,"Maintenance Equipment"),n.createElement("option",null,"Cleaning Supplies"),n.createElement("option",null,"Plumbing Equipment"),n.createElement("option",null,"other")),n.createElement("br",null),n.createElement("label",null,"What is the missing item called?",n.createElement("input",{type:"text",name:"missingItem",required:!0,value:a.missingItem||"",onChange:l})),n.createElement("br",null),n.createElement("label",null," (optional) if you know the GL code of the item, please put it here",n.createElement("input",{type:"number",name:"GLCode",value:a.GLCode||"",onChange:l})),n.createElement("input",{type:"submit"})))};var G=function(){var e=n.useState(""),t=Object(m.a)(e,2),a=t[0],r=t[1];return n.createElement("div",{className:"support"},n.createElement("h1",null,"Support Page"),n.createElement("div",{className:"FormWrapper"},n.createElement("form",null,n.createElement("div",null,n.createElement("select",{onChange:function(e){r(e.target.value)}},n.createElement("option",null,"Please Make A Selection"),n.createElement("option",null,"Bug Report"),n.createElement("option",null,"Missing Parts")))),n.createElement("div",null,function(e){switch(e){case"Bug Report":return n.createElement(B,null);case"Missing Parts":return n.createElement(J,null);default:return null}}(a))))};var V=function(){return r.a.createElement("div",{className:"MSDS"},r.a.createElement("br",null),r.a.createElement("h1",null,"This is the MSDS Page"),r.a.createElement("div",null,r.a.createElement("h3",null,"This page will either have an approved MSDS download or will generate one based on your past orders. This will be developed at a later date")))};var T=function(){return r.a.createElement(u,null,r.a.createElement(v.a,null,r.a.createElement(D,null),r.a.createElement(x.c,null,r.a.createElement(x.a,{path:"/",exact:!0,component:w}),r.a.createElement(x.a,{path:"/reports",component:L}),r.a.createElement(x.a,{path:"/messages",component:_}),r.a.createElement(x.a,{path:"/products",component:M}),r.a.createElement(x.a,{path:"/addItem",component:W}),r.a.createElement(x.a,{path:"/support",component:G}),r.a.createElement(x.a,{path:"/checkout",component:A}),r.a.createElement(x.a,{path:"/MSDS",component:V}))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.e62f06da.chunk.js.map